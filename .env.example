# ==============================================================================
# Bombardier - Target Acquisition & Engagement AI
# Environment Variables Configuration
# ==============================================================================

# ==============================================================================
# Core Application
# ==============================================================================
NODE_ENV=development
PORT=4050

# ==============================================================================
# Database Configuration
# ==============================================================================
MONGO_URL=mongodb://localhost:27017/bombardier
REDIS_URL=redis://localhost:6379

# ==============================================================================
# JWT & Authentication
# ==============================================================================
JWT_KEY_TTL_DAYS=30
JWT_ROTATE_MAX_KEYS=3

# JWT secret for signing tokens (generate with: openssl rand -base64 32)
# REQUIRED in production
JWT_SECRET=

# Set to "true" to disable authentication (development only)
# WARNING: Never set to true in production!
AUTH_DISABLED=true

# Internal API key for worker-to-API communication
# Generate with: openssl rand -hex 32
INTERNAL_API_KEY=bombardier-internal-key-dev

# ==============================================================================
# RBAC Configuration
# ==============================================================================
RBAC_CONFIG_PATH=./config/rbac/permissions.json

# ==============================================================================
# OAuth Providers (Optional - for social login)
# ==============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:4050/oauth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:4050/oauth/github/callback

# Microsoft OAuth
MS_CLIENT_ID=
MS_CLIENT_SECRET=
MS_REDIRECT_URI=http://localhost:4050/oauth/microsoft/callback

# ==============================================================================
# Encryption
# ==============================================================================
# 32-byte hex key for encrypting OAuth tokens
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY_HEX=

# ==============================================================================
# AI/ML Services
# ==============================================================================
# OpenAI API Key (for GPT-4 message generation)
OPENAI_API_KEY=

# ==============================================================================
# Platform API Keys (for data acquisition)
# ==============================================================================
# Twitter/X API v2
TWITTER_BEARER_TOKEN=
TWITTER_API_KEY=
TWITTER_API_SECRET=

# LinkedIn (Sales Navigator or Official API)
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_ACCESS_TOKEN=

# Reddit API
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USERNAME=
REDDIT_PASSWORD=

# ==============================================================================
# Proxy Configuration (for anti-detection)
# ==============================================================================
# Proxy service URL (e.g., Bright Data, Oxylabs)
PROXY_SERVICE_URL=
PROXY_USERNAME=
PROXY_PASSWORD=

# ==============================================================================
# Workers Configuration
# ==============================================================================
# API URL for workers to communicate with main API
API_URL=http://localhost:4050

# ML Service URL (for bot detection, sentiment analysis)
ML_SERVICE_URL=http://localhost:5000

# Browser Service URL (for web scraping and automation)
BROWSER_SERVICE_URL=http://localhost:5100

# Enable browser service integration (set to true to use real browser automation)
USE_BROWSER_SERVICE=false

# Worker rate limits (requests per minute)
ACQUISITION_RATE_LIMIT=50
FILTERING_RATE_LIMIT=100
ENGAGEMENT_RATE_LIMIT=25

# ==============================================================================
# Anti-Detection Services (Phase 1)
# ==============================================================================
# Proxy Manager
PROXY_MANAGER_REDIS_URL=redis://localhost:6379
PROXY_ROTATION_STRATEGY=performance-based
PROXY_CONFIG_PATH=./config/proxies.json

# Fingerprint Engine
FINGERPRINT_CANVAS_NOISE_MIN=0.0001
FINGERPRINT_CANVAS_NOISE_MAX=0.001
FINGERPRINT_WEBGL_RANDOMIZE=true
FINGERPRINT_AUDIO_RANDOMIZE=true

# Timing Engine
TIMING_MIN_DELAY_MS=1000
TIMING_MAX_DELAY_MS=30000
TIMING_CIRCADIAN_ENABLED=true
TIMING_POISSON_ENABLED=true
TIMING_SESSION_FATIGUE_ENABLED=true

# Account Warming
ACCOUNT_WARMING_ENABLED=true
ACCOUNT_WARMING_MANUAL_PHASE_DAYS=14
ACCOUNT_WARMING_LIGHT_PHASE_DAYS=14
ACCOUNT_WARMING_MODERATE_PHASE_DAYS=14
ACCOUNT_WARMING_MAX_ACTIONS_PER_DAY_MANUAL=20
ACCOUNT_WARMING_MAX_ACTIONS_PER_DAY_LIGHT=40
ACCOUNT_WARMING_MAX_ACTIONS_PER_DAY_MODERATE=60
ACCOUNT_WARMING_MAX_ACTIONS_PER_DAY_FULL=100

# ==============================================================================
# Free Proxy Scraper (No-Cost Proxy Solution)
# ==============================================================================
# Scraping Settings
PROXY_SCRAPE_INTERVAL_MINUTES=30
PROXY_MIN_WORKING=100
PROXY_VALIDATION_TIMEOUT_MS=10000
PROXY_VALIDATION_CONCURRENCY=50
PROXY_MAX_AGE_HOURS=24

# Tor Integration (requires Tor installed)
TOR_ENABLED=true
TOR_SOCKS_PORT=9050
TOR_CONTROL_PORT=9051
TOR_AUTO_ROTATE=true
TOR_ROTATE_INTERVAL_MINUTES=10
TOR_PREFER_TOR=false

# Unified Proxy Provider
USE_FREE_PROXIES=true
PREFER_TOR_OVER_FREE=false


# ==============================================================================
# Frontend Configuration
# ==============================================================================
NEXT_PUBLIC_API_URL=http://localhost:4050

# ==============================================================================
# Monitoring & Observability (Optional)
# ==============================================================================
# Prometheus/Grafana
PROMETHEUS_ENDPOINT=http://localhost:9090

# Sentry (Error tracking)
SENTRY_DSN=

# ==============================================================================
# Security
# ==============================================================================
# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Cookie security (set to true in production with HTTPS)
COOKIE_SECURE=false

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000
